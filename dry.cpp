template<class Iterator, class Predicate>
int CountPairsByCondition(Iterator first, Iterator last, Predicate pred){
    // code...
}